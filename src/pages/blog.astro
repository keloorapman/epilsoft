---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import { translations } from '../i18n';

const lang = 'fr';
const t = translations[lang];

// Sample blog articles
const articles = [
  {
    id: 1,
    title: "Les 5 Mythes sur l'Épilation Laser Démystifiés",
    excerpt: "Découvrez la vérité derrière les idées reçues les plus courantes sur l'épilation laser définitive.",
    image: "/images/blog-myths.jpg",
    category: "Conseils",
    date: "15 Oct 2024",
    readTime: "5 min",
    slug: "mythes-epilation-laser"
  },
  {
    id: 2,
    title: "Comment Préparer votre Peau avant une Séance Laser",
    excerpt: "Guide complet pour optimiser les résultats de votre traitement d'épilation laser.",
    image: "/images/blog-preparation.jpg",
    category: "Guide",
    date: "10 Oct 2024",
    readTime: "7 min",
    slug: "preparer-peau-seance-laser"
  },
  {
    id: 3,
    title: "Laser Alexandrite vs Nd:YAG : Quelle Différence ?",
    excerpt: "Comprendre les différentes technologies laser et laquelle convient le mieux à votre type de peau.",
    image: "/images/blog-technology.jpg",
    category: "Technologie",
    date: "5 Oct 2024",
    readTime: "6 min",
    slug: "laser-alexandrite-vs-ndyag"
  },
  {
    id: 4,
    title: "Épilation Laser en Été : Ce qu'il Faut Savoir",
    excerpt: "Peut-on faire de l'épilation laser en été ? Conseils pour traiter en toute sécurité pendant les mois chauds.",
    image: "/images/blog-summer.jpg",
    category: "Conseils",
    date: "1 Oct 2024",
    readTime: "5 min",
    slug: "epilation-laser-ete"
  },
  {
    id: 5,
    title: "Témoignages : Leur Expérience chez Epilsoft",
    excerpt: "Découvrez les histoires réelles de nos clients et leurs résultats exceptionnels.",
    image: "/images/blog-testimonials.jpg",
    category: "Témoignages",
    date: "25 Sep 2024",
    readTime: "8 min",
    slug: "temoignages-clients-epilsoft"
  },
  {
    id: 6,
    title: "Soins Post-Traitement : Les Do's and Don'ts",
    excerpt: "Guide pratique pour prendre soin de votre peau après une séance d'épilation laser.",
    image: "/images/blog-aftercare.jpg",
    category: "Guide",
    date: "20 Sep 2024",
    readTime: "6 min",
    slug: "soins-post-traitement-laser"
  },
  {
    id: 7,
    title: "Épilation Laser pour Hommes : Zones les Plus Populaires",
    excerpt: "Tour d'horizon des traitements laser les plus demandés par notre clientèle masculine.",
    image: "/images/blog-men.jpg",
    category: "Hommes",
    date: "15 Sep 2024",
    readTime: "5 min",
    slug: "epilation-laser-hommes"
  },
  {
    id: 8,
    title: "Combien Coûte Vraiment l'Épilation Laser ?",
    excerpt: "Analyse complète des coûts et comparaison avec les autres méthodes d'épilation sur le long terme.",
    image: "/images/blog-cost.jpg",
    category: "Tarifs",
    date: "10 Sep 2024",
    readTime: "7 min",
    slug: "cout-epilation-laser"
  },
  {
    id: 9,
    title: "Pourquoi Choisir un Laser Médical plutôt qu'Esthétique ?",
    excerpt: "Les différences fondamentales entre lasers médicaux et esthétiques expliquées simplement.",
    image: "/images/blog-medical-laser.jpg",
    category: "Technologie",
    date: "5 Sep 2024",
    readTime: "6 min",
    slug: "laser-medical-vs-esthetique"
  }
];

const categories = ["Tous", "Conseils", "Guide", "Technologie", "Témoignages", "Hommes", "Tarifs"];
---

<Layout
  title="Blog | Conseils & Actualités Épilation Laser - Epilsoft"
  description="Découvrez nos articles sur l'épilation laser : conseils, guides, témoignages, et tout ce que vous devez savoir sur le traitement laser définitif."
  lang={lang}
>
  <Header lang={lang} />

  <main>
    <!-- Hero Section -->
    <Hero
      badge="BLOG"
      subtitle="Conseils & Actualités"
      title="Notre Blog Épilation Laser"
      description="Guides pratiques, conseils d'experts, et tout ce que vous devez savoir sur l'épilation laser définitive."
      ctaText="Consultation gratuite"
      ctaLink="/contact"
      image="/images/hero-blog.jpg"
    />

    <!-- Categories Filter -->
    <section class="section categories-section">
      <div class="container">
        <div class="categories-filter">
          {categories.map(category => (
            <button
              class={`category-btn ${category === 'Tous' ? 'active' : ''}`}
              data-category={category}
            >
              {category}
            </button>
          ))}
        </div>
      </div>
    </section>

    <!-- Featured Article -->
    <section class="section featured-section" style="background: #f9f9f9;">
      <div class="container">
        <div class="featured-badge">À LA UNE</div>
        <div class="featured-article">
          <div class="featured-image">
            <img src={articles[0].image} alt={articles[0].title} loading="lazy" />
            <span class="article-category">{articles[0].category}</span>
          </div>
          <div class="featured-content">
            <div class="article-meta">
              <span class="article-date">{articles[0].date}</span>
              <span class="article-separator">•</span>
              <span class="article-read-time">{articles[0].readTime} de lecture</span>
            </div>
            <h2>{articles[0].title}</h2>
            <p>{articles[0].excerpt}</p>
            <a href={`/blog/${articles[0].slug}`} class="btn btn-primary">Lire l'article</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Articles Grid -->
    <section class="section articles-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Derniers Articles</h2>
        </div>

        <div class="articles-grid" id="articles-grid">
          {articles.slice(1).map(article => (
            <article class="article-card" data-category={article.category}>
              <div class="article-image">
                <img src={article.image} alt={article.title} loading="lazy" />
                <span class="article-category">{article.category}</span>
              </div>
              <div class="article-content">
                <div class="article-meta">
                  <span class="article-date">{article.date}</span>
                  <span class="article-separator">•</span>
                  <span class="article-read-time">{article.readTime}</span>
                </div>
                <h3>{article.title}</h3>
                <p>{article.excerpt}</p>
                <a href={`/blog/${article.slug}`} class="article-link">
                  Lire la suite
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </article>
          ))}
        </div>

        <!-- Pagination -->
        <div class="pagination">
          <button class="pagination-btn" disabled>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
            Précédent
          </button>
          <div class="pagination-numbers">
            <button class="pagination-number active">1</button>
            <button class="pagination-number">2</button>
            <button class="pagination-number">3</button>
          </div>
          <button class="pagination-btn">
            Suivant
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- Newsletter Section -->
    <section class="section newsletter-section" style="background: linear-gradient(135deg, #fff9f0 0%, #fff5e6 100%);">
      <div class="container">
        <div class="newsletter-card">
          <div class="newsletter-icon">
            <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </div>
          <h2>Restez Informé(e)</h2>
          <p>
            Recevez nos derniers articles, conseils d'experts et offres exclusives directement dans votre boîte mail.
          </p>
          <form class="newsletter-form">
            <input
              type="email"
              placeholder="Votre adresse email"
              required
              class="newsletter-input"
            />
            <button type="submit" class="btn btn-primary">S'abonner</button>
          </form>
          <p class="newsletter-disclaimer">
            Nous respectons votre vie privée. Désinscription possible à tout moment.
          </p>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section cta-section">
      <div class="container text-center">
        <span class="badge">CONSULTATION GRATUITE</span>
        <h2 style="font-size: clamp(2rem, 5vw, 3rem); margin: 1.5rem 0;">
          Prêt(e) à commencer votre traitement ?
        </h2>
        <p style="font-size: 1.1rem; color: var(--light-text); max-width: 600px; margin: 0 auto 2rem;">
          Réservez votre consultation gratuite avec séance laser offerte. Aucun engagement.
        </p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
          <a href="/contact" class="btn btn-primary">Réserver maintenant</a>
          <a href="/faq" class="btn btn-secondary">Questions fréquentes</a>
        </div>
      </div>
    </section>
  </main>

  <Footer lang={lang} />
</Layout>

<style>
  /* Categories Filter */
  .categories-section {
    padding: 2rem 1.5rem;
    background: white;
    border-bottom: 1px solid #e5e5e5;
  }

  .categories-filter {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .category-btn {
    padding: 0.75rem 1.5rem;
    background: #f9f9f9;
    color: var(--dark-text);
    border: 2px solid transparent;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
  }

  .category-btn:hover,
  .category-btn.active {
    background: var(--primary-gold);
    color: white;
    border-color: var(--primary-gold);
  }

  /* Featured Article */
  .featured-badge {
    display: inline-block;
    background: var(--primary-gold);
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 50px;
    font-weight: 700;
    font-size: 0.85rem;
    margin-bottom: 2rem;
  }

  .featured-article {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 3rem;
    background: white;
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-hover);
  }

  .featured-image {
    position: relative;
    height: 100%;
    min-height: 400px;
  }

  .featured-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .featured-content {
    padding: 3rem 3rem 3rem 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .featured-content h2 {
    font-family: var(--font-title);
    font-size: 2.5rem;
    color: var(--dark-text);
    margin: 1rem 0 1.5rem;
    line-height: 1.2;
  }

  .featured-content p {
    color: var(--light-text);
    font-size: 1.1rem;
    line-height: 1.8;
    margin-bottom: 2rem;
  }

  /* Article Meta */
  .article-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--light-text);
  }

  .article-separator {
    color: #ddd;
  }

  .article-category {
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    background: var(--primary-gold);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    font-weight: 700;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Articles Grid */
  .articles-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2.5rem;
  }

  .article-card {
    background: white;
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: all var(--transition-normal);
  }

  .article-card:hover {
    transform: translateY(-10px);
    box-shadow: var(--shadow-hover);
  }

  .article-image {
    position: relative;
    height: 220px;
    overflow: hidden;
  }

  .article-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-normal);
  }

  .article-card:hover .article-image img {
    transform: scale(1.05);
  }

  .article-content {
    padding: 2rem;
  }

  .article-content h3 {
    font-family: var(--font-title);
    font-size: 1.4rem;
    color: var(--dark-text);
    margin: 1rem 0;
    line-height: 1.3;
  }

  .article-content p {
    color: var(--light-text);
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }

  .article-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--primary-gold);
    font-weight: 700;
    text-decoration: none;
    transition: all var(--transition-normal);
  }

  .article-link:hover {
    gap: 0.75rem;
  }

  .article-link svg {
    transition: transform var(--transition-normal);
  }

  .article-link:hover svg {
    transform: translateX(3px);
  }

  /* Pagination */
  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-top: 4rem;
  }

  .pagination-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: white;
    color: var(--dark-text);
    border: 2px solid #e5e5e5;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
  }

  .pagination-btn:hover:not(:disabled) {
    border-color: var(--primary-gold);
    color: var(--primary-gold);
  }

  .pagination-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .pagination-numbers {
    display: flex;
    gap: 0.5rem;
  }

  .pagination-number {
    width: 45px;
    height: 45px;
    background: white;
    color: var(--dark-text);
    border: 2px solid #e5e5e5;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
  }

  .pagination-number:hover,
  .pagination-number.active {
    background: var(--primary-gold);
    color: white;
    border-color: var(--primary-gold);
  }

  /* Newsletter */
  .newsletter-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: 4rem 3rem;
    text-align: center;
    box-shadow: var(--shadow-hover);
    max-width: 700px;
    margin: 0 auto;
  }

  .newsletter-icon {
    width: 100px;
    height: 100px;
    margin: 0 auto 2rem;
    background: linear-gradient(135deg, #fff9f0 0%, #fff5e6 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .newsletter-icon svg {
    color: var(--primary-gold);
  }

  .newsletter-card h2 {
    font-family: var(--font-title);
    font-size: 2.5rem;
    color: var(--dark-text);
    margin-bottom: 1rem;
  }

  .newsletter-card > p {
    color: var(--light-text);
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: 2rem;
  }

  .newsletter-form {
    display: flex;
    gap: 1rem;
    max-width: 500px;
    margin: 0 auto 1rem;
  }

  .newsletter-input {
    flex: 1;
    padding: 1rem 1.5rem;
    border: 2px solid #e5e5e5;
    border-radius: var(--radius-md);
    font-size: 1rem;
    transition: all var(--transition-normal);
  }

  .newsletter-input:focus {
    outline: none;
    border-color: var(--primary-gold);
  }

  .newsletter-disclaimer {
    font-size: 0.85rem;
    color: var(--light-text);
    margin: 0;
  }

  /* Responsive */
  @media (max-width: 991px) {
    .featured-article {
      grid-template-columns: 1fr;
    }

    .featured-content {
      padding: 2.5rem;
    }

    .featured-image {
      min-height: 300px;
    }

    .articles-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    .articles-grid {
      grid-template-columns: 1fr;
    }

    .featured-content h2 {
      font-size: 2rem;
    }

    .newsletter-form {
      flex-direction: column;
    }

    .newsletter-card {
      padding: 3rem 2rem;
    }

    .pagination {
      flex-direction: column;
      gap: 1.5rem;
    }
  }
</style>

<script src="/js/page-animations.js" defer></script>
